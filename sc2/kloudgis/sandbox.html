<html>
  <head>
	<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
	<link rel="stylesheet" href="css/sandbox.css" type="text/css" media="screen" charset="utf-8" />
	<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />
	<link rel="stylesheet" href="ext/leaflet/leaflet.css" type="text/css" media="screen" charset="utf-8"/>
    <title>Kloudgis</title>
	<script type="text/x-handlebars" data-template-name="notes-marker-popup">
		{{#view class="popup-note-title"}}
			{{KG.notesPopupController.popupTitle}}
		{{/view}}
	    {{#collection contentBinding="KG.notesPopupController" tagName="ul" class="popup-note-list"}}
			{{#view KG.NotePopupItemView}}
				{{title}}
			{{/view}}
		{{/collection}}
	</script>
	<script type="text/x-handlebars" data-template-name="active-note-popup">
		{{#view class="active-note-popup"}}		
			
			{{#view class="note-date-label"}}
				{{KG.activeNoteController.dateValue}}
			{{/view}}
			{{KG.activeNoteController.titleLabel}}
	    	{{#view KG.TextField valueBinding="KG.activeNoteController.titleValue" disabledBinding="KG.activeNoteController.isDisabled" type="text" placeholder_not_loc="_noteTitlePlaceholder" }}
			{{/view}}
			{{KG.activeNoteController.descriptionLabel}}
			{{#view KG.TextArea disabledBinding="KG.activeNoteController.isDisabled" valueBinding="KG.activeNoteController*content.description"}}
			{{/view}}
			{{#view class="active-note-popup-bottom"}}
				{{#view KG.Button isVisibleBinding="KG.activeNoteController.isUpdateVisible" class="white-button" classBinding="isActive" sc_action="confirmNoteAction"}}
					{{KG.activeNoteController.confirmLabel}}
				{{/view}}		
				{{#view KG.Button isVisibleBinding="KG.activeNoteController.isDeleteVisible" class="red-button" classBinding="isActive" sc_action="deleteNoteAction"}}
					{{KG.activeNoteController.deleteLabel}}
				{{/view}}
				{{#view class="note-author-label"}}
					{{KG.activeNoteController.authorValue}}
				{{/view}}
			{{/view}}
		{{/view}}
	</script>
  </head>
  <body>	
	<iframe id="if-spinner" src="spinner.html"></iframe>
	<div id="map">		
	</div>	
		<div id="back-home" class="kg-controls">
			<a href="home.html"></a>
		</div>	
		<div id="create-note" class="kg-controls">
			<a href="javascript:void(0)" onclick="KG.core_sandbox.createNote()">
			</a>
		</div>
		<div id="active-sandbox-label">	
			<span class="label-ellipsis"></span>
		</div>
		<script type="text/x-handlebars">
			{{#view class="kg-controls" id="position-label"}}
				{{KG.core_sandbox.positionLabel}}
			{{/view}}
		</script>
  </body>

<!-- load all of the dependencies --> 
   <script type="text/javascript" src="assets/bpm_libs.js" charset="utf-8"></script>
   <script type="text/javascript" src="assets/app_lib.js" charset="utf-8"></script> 
   <script type="text/javascript" src="assets/auth_lib.js" charset="utf-8"></script>
   <script type="text/javascript" src="assets/core_lib.js" charset="utf-8"></script>
   <script type="text/javascript" src="assets/sandbox_lib.js" charset="utf-8"></script>
<!-- load my app external lib --> 
   <script type="text/javascript" src="ext/leaflet/leaflet.js" charset="utf-8"></script> 
   <script type="text/javascript"> 
	      spade.ready(function() { 
			//bootstrap
	        spade.require('kloudgis/sandbox/lib/main');			
	      }); 
   </script>
	
</html>
